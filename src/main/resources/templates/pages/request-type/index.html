<!DOCTYPE html>
<html lang="pt-br" th:replace="~{layout/dashboard/principal :: layout (~{:: content}, 'Tipos de Solicitação')}">

<body>
    <content>

        <link rel="stylesheet" href="/assets/css/vendor.custom.css">

        <!-- Page header -->
        <div class="row align-items-center mb-7">
            <div class="col-auto">
                <!-- Avatar -->
                <div class="avatar avatar-xl rounded text-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-bookmark-plus" viewBox="0 0 16 16">
                        <path
                            d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z" />
                        <path
                            d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4" />
                    </svg>
                </div>
            </div>
            <div class="col">
                <!-- Breadcrumb -->
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-2">
                        <li class="breadcrumb-item"><a class="text-body-secondary" href="/inicio">Página Inicial</a>
                        </li>
                    </ol>
                </nav>

                <!-- Heading -->
                <h1 class="fs-4 mb-0">Tipos de solicitação</h1>
            </div>
        </div>

        <div class="container">
            <div class="card shadow p-1 table-responsive">

                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Título</th>
                            <th class="d-none d-sm-block">Prazo (dias)</th>
                            <th>Departamento</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="requestType : ${requestTypeList}" th:data-id="${requestType.id}" role="button"
                            onclick="window.location.href = `/tipos-de-solicitacao/${this.dataset.id}`">
                            <td th:text="${requestType.id}"></td>
                            <td th:text="${requestType.title}"></td>
                            <td class="d-none d-sm-block" th:text="${requestType.timeLimit}"></td>
                            <td th:text="${requestType.department.name}"></td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>

        <div class="fab-container">
            <a href="/tipos-de-solicitacao/novo-tipo-de-solicitacao" id="fab-main"
                class="btn btn-primary rounded-circle shadow" data-bs-trigger="hover" data-bs-toggle="popover"
                data-bs-placement="left" data-bs-content="Cadastrar tipo de solicitação">
                <i class="bi bi-plus"></i>
            </a>
        </div>

        <div class="fab-container" style="z-index: 9999!important" sec:authorize="hasRole('ROLE_ROOT')">
            <a href="/tipos-de-solicitacao/novo-tipo-de-solicitacao" id="fab-main" class="btn btn-primary w-100 shadow"
                data-bs-trigger="hover" data-bs-toggle="popover" data-bs-placement="left"
                data-bs-title="Cadastrar funcionário">
                <i class="bi bi-plus"></i> Cadastrar novo tipo
            </a>
        </div>

        <script>
            const confirmDelete = (id) => {
                Swal.fire({
                    toast: true,
                    title: "Excluir tipo de solicitação?",
                    text: "Essa ação não poderá ser desfeita.",
                    icon: "alert",
                    confirmButtonColor: "#dc3545",
                    confirmButtonText: "Excluir",
                    cancelButtonText: "Cancelar",
                    showCancelButton: true,
                    allowOutsideClick: false,
                }).then((result) => {
                    if (result.isConfirmed) {
                    }
                });
            }
        </script>

    </content>
</body>

</html>